@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --native-selection-bg: rgba(99, 102, 241, 0.24);
  --ai-magic-bg-start: rgba(99, 102, 241, 0.36);
  --ai-magic-bg-mid: rgba(217, 70, 239, 0.42);
  --ai-magic-bg-end: rgba(168, 85, 247, 0.36);
  --ai-magic-border: rgba(216, 180, 254, 0.92);
  --ai-magic-glow: rgba(139, 92, 246, 0.34);
  --ai-magic-glow-strong: rgba(217, 70, 239, 0.24);
}
/* Custom scrollbar for a more desktop-app feel */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #cbd5e1;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #94a3b8;
}


textarea::selection,
input::selection {
  background: var(--native-selection-bg);
  color: inherit;
}

.ai-polish-highlight {
  position: relative;
  display: inline;
  padding: 0.08em 0.22em !important;
  margin: 0 -0.03em;
  border-radius: 0.28em;
  color: inherit;
  background-color: transparent !important;
  background-image: linear-gradient(
    120deg,
    var(--ai-magic-bg-start) 0%,
    var(--ai-magic-bg-mid) 52%,
    var(--ai-magic-bg-end) 100%
  );
  background-size: 260% 100%;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.16),
    inset 0 -2px 0 var(--ai-magic-border),
    0 1px 6px var(--ai-magic-glow);
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;
  text-decoration: none;
}

.ai-polish-preview-active .ai-polish-highlight {
  animation: magic-shimmer 5.2s linear infinite;
  box-shadow:
    0 0 0 1px rgba(255, 255, 255, 0.16),
    inset 0 -3px 0 var(--ai-magic-border),
    0 2px 10px var(--ai-magic-glow),
    0 0 18px var(--ai-magic-glow-strong);
}

.ai-polish-preview-active.ai-polish-static .ai-polish-highlight {
  animation: none;
  background-size: 100% 100%;
}

@keyframes magic-sheen {
  from {
    transform: translateX(-70%);
  }
  to {
    transform: translateX(70%);
  }
}

@keyframes magic-shimmer {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@supports (mix-blend-mode: screen) {
  .ai-polish-preview-active:not(.ai-polish-static) .ai-polish-highlight:hover::after {
    content: "";
    position: absolute;
    left: -6%;
    right: -6%;
    top: -10%;
    bottom: -10%;
    border-radius: inherit;
    background: linear-gradient(
      100deg,
      rgba(255, 255, 255, 0) 18%,
      rgba(255, 245, 255, 0.4) 48%,
      rgba(255, 255, 255, 0) 78%
    );
    pointer-events: none;
    mix-blend-mode: screen;
    animation: magic-sheen 1.1s ease-out 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .ai-polish-preview-active .ai-polish-highlight {
    animation: none;
  }
  .ai-polish-preview-active .ai-polish-highlight::after {
    animation: none;
  }
}
@layer utilities {
  .font-serif {
    font-family: "Noto Serif SC", "Source Han Serif SC", "STZhongsong", "华文中宋", serif !important;
  }
}
